<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <title>All Menus</title>
</head>
<body>
    <h1>Place your order here</h1>
    <hr>
    <form action="/order/<%= OrderId %>" method="get">
        <p>Search by Category Menu</p>
        <select name="category">
            <option value="">All</option>
            <option value="Food">Food</option>
            <option value="Drink">Drink</option>
        </select>
        <button type="submit">Search</button>
    </form>
    
    <br>
    <% if (err) { %>
     <h2 style="color: red;">You have to order first to checkout</h2>
    <% } %>
    <br>
    <div class="card-columns">
        <% menus.forEach(el => { %>
                <div class="card" style="width:300px">
                    <img src="<%= el.imageUrl %>" alt="Menu" style="width:100%">
                    <div class="card-body text-center">
                      <h4 class="card-title"><%= el.name %> </h4>
                      <p class="card-text"> Category: <%= el.category %> </p>
                      <p class="card-text"> Price: <%= el.convertPrice() %> </p>

                      <form action="/order/<%= OrderId %>" method="post">
                        <button name="MenuId" value="<%= el.id %>" type="submit">Order!</button>
                      </form>
                    </div>
                </div>     
        <% }) %>
    </div>

    <form action="/order/<%= OrderId %>/delete" method="post">
        <button type="submit" class="btn btn-primary btn-lg btn-block">Cancel Order</button>
    </form>
    <form action="/order/<%= OrderId %>/new" method="post">
        <button type="submit" class="btn btn-primary btn-lg btn-block">Checkout</button>
    </form>
</body>
</html>